<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <title> Кредитный калькулятор </title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <script type="text/javascript" src="js/jquery/jquery-1.2.6.js"></script>
    <script type="text/javascript" src="js/jquery/jquery.validate-1.5.1.js"></script>
    <script type="text/javascript" src="js/app.js"></script>

    <form action="" method="post" name="creditForm" id="creditForm">
        <label for="name">Имя: <span></span></label><br>
        <input name="name" id="name" type="text" size="30" value=''><br>

        <label for="email">E-mail: <span></span></label><br>
        <input name="email" id="email" type="text" size="30"><br>

        <label for="phone">Телефон: <span></span></label><br>
        <input name="phone" id="phone" type="text" size="30"><br>

        <label for="priceAuto">Стоимость: <span></span></label><br>
        <input name="priceAuto" id="priceAuto" type="text" size="30" oninput="positionSliderPriceAuto()"><br>
        <input name="sliderPriceAuto" id="sliderPriceAuto" type="range" min="10000" max="1000000" step="1000" value="10000" 
               oninput="valuePriceAuto()"><br> 

        <label for="deposite">Взнос: <span></span></label><br>
        <input name="deposite" id="deposite" type="text" size="30" oninput="positionSliderDeposite()"><br>
        <input name="sliderDeposite" id="sliderDeposite" type="range" min="10000" max="1000000" step="1000" value="10000" 
               oninput="valueDeposite()"><br> 

        <label for="period">Срок: <span></span></label><br>
        <input name="period" id="period" type="text" size="30" oninput="positionSliderPeriod()"><br>
        <input name="sliderPeriod" id="sliderPeriod" type="range" min="3" max="120" step="1" value="3" 
               oninput="valuePeriod()"><br>     

        <p><input type="submit" name="submit" value="Рассчитать"></p>
        <div>
            Ежемесячный платеж: 
            <span id="summary"><span>
        </div>
    </form>
    <button class="ok" onclick="onOkbuttonClick()">Согласен</button>
    <div id="success"></div>

    <script>
        var priceAuto = document.getElementById("priceAuto");
        var deposite = document.getElementById("deposite");
        var period = document.getElementById("period");
        var creditForm =  document.getElementById("creditForm");
        var name = document.getElementById("name");
        var email = document.getElementById("email");
        var phone = document.getElementById("phone");
        var summary = document.getElementById("summary");
        var okButton = document.getElementsByClassName("ok")[0];
        var success = document.getElementById("success");

        function positionSliderPriceAuto() {
            var sliderPriceAuto = document.getElementById("sliderPriceAuto");
            sliderPriceAuto.value = priceAuto.value;
        }

        function valuePriceAuto() {
            valueSlider = document.getElementById("sliderPriceAuto").value;
            priceAuto.value = valueSlider;
        }

        function positionSliderDeposite() {
            sliderDeposite = document.getElementById("sliderDeposite");
            sliderDeposite.value = deposite.value;
        }

        function valueDeposite() {
            valueSlider = document.getElementById("sliderDeposite").value;
            deposite.value = valueSlider;
        }

        function positionSliderPeriod() {
            sliderPeriod = document.getElementById("sliderPeriod");
            sliderPeriod.value = period.value;
        }

        function valuePeriod() {
            valueSlider = document.getElementById("sliderPeriod").value;
            period.value = valueSlider;
        }

        function calcCredit() {
            var payment =
                Math.round((priceAuto.value - deposite.value)/(1 - 1/Math.pow((10000 + 1183)/10000, period.value) )/10);

            summary.innerHTML = payment;
        }

        function onOkbuttonClick() {
            okButton.className = 'ok';
            console.log('собрать данные с формы');
            console.log('А тут нужно что-то сделать чтобы отпрваить емайл');
            success.innerHTML = 'Письмо отправлено';

            setTimeout(function() {
                success.innerHTML = '';                
            }, 3000)
        }

    </script>

</body>
</html>